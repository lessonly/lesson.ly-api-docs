# Groups

## List Groups

```shell
<%= api_get_request('/groups') %>
```

> The above command returns JSON structured like this:

```json
{
  "type": "groups",
  "groups": [
    {
      "id": 1,
      "name": "Group 1",
      "archived_at": null,
      "archived_by_user_id": null
    },
    {
      "id": 2,
      "name": "Group 2",
      "archived_at": null,
      "archived_by_user_id": null
    }
  ]
}
```

This endpoint retrieves all groups.

### HTTP Request

`GET https://api.lessonly.com/api/v1/groups`

## Show Group Details

```shell
<%= api_get_request('/groups/:group_id') %>
```

> The above command returns JSON structured like this:

```json
{
  "id": 12345,
  "type": "group",
  "resource_type": "group",
  "name": "Test Group",
  "archived_at": null,
  "archived_by_user_id": null,
  "members": [
    {
      "id": 4308512,
      "resource_type": "user",
      "ext_uid": null,
      "email": "joe.alec@lessonly.com",
      "name": "Joe Alec",
      "role": "admin",
      "archived_at": null,
      "archived_by_user_id": null,
      "job_title": "",
      "business_unit": "Andela",
      "department": "Product",
      "location": "",
      "locale": "en",
      "hire_date": null,
      "manager_name": "Joe Metil"
    }
  ],
  "managers": [
    {
      "id": 21494,
      "resource_type": "user",
      "ext_uid": "9083042864",
      "email": "jay@lessonly.com",
      "name": "Jay Bentley",
      "role": "manager",
      "archived_at": null,
      "archived_by_user_id": null,
      "job_title": "",
      "business_unit": "",
      "department": "Product",
      "location": "",
      "locale": "en",
      "hire_date": null,
      "manager_name": ""
    }
   ]
}
```

This endpoint retrieves a listing of a groups members and managers.

### Query Parameters

Parameter | Required | Type |  Description
--- | --- | --- | ---
group_id | yes | Positive Integer | The group to access.  The company must have access to the group.

### HTTP Request

`GET https://api.lessonly.com/api/v1/groups/:group_id`

## Create Group

```shell
<%= post_request("/groups") %>
-d '{
  "name": "create_group",
  "members": [
    {
      "id": 1
    },
    {
      "id": 2
    }
  ],
  "managers": [
    {
      "id": 3
    },
    {
      "id": 4
    }
  ]
}'
```

> A successful post will return JSON consisting of the group details response:

```json
{
  "type": "create_group",
  "resource_type": "group",
  "id": 12345,
  "name": "New Name",
  "archived_at": null,
  "archived_by_user_id": null,
  "members": [
    {
      "id": 1,
      "resource_type": "user",
      "ext_uid": null,
      "email": "joe.alec@lessonly.com",
      "name": "Joe Alec",
      "role": "admin",
      "archived_at": null,
      "archived_by_user_id": null,
      "job_title": "",
      "business_unit": "Andela",
      "department": "Product",
      "location": "",
      "locale": "en",
      "hire_date": null,
      "manager_name": "Joe Metil"
    },
    {
      "id": 2,
      "resource_type": "user",
      "ext_uid": null,
      "email": "me@lessonly.com",
      "name": "Henry Alec",
      "role": "admin",
      "archived_at": null,
      "archived_by_user_id": null,
      "job_title": "",
      "business_unit": "Andela",
      "department": "Product",
      "location": "",
      "locale": "en",
      "hire_date": null,
      "manager_name": "Joe Metil"
    }
   ],
  "managers":  [
     {
        "id": 3,
        "resource_type": "user",
        "ext_uid": "9083042864",
        "email": "jay@lessonly.com",
        "name": "Jay Bentley",
        "role": "manager",
        "archived_at": null,
        "archived_by_user_id": null,
        "job_title": "",
        "business_unit": "",
        "department": "Product",
        "location": "",
        "locale": "en",
        "hire_date": null,
        "manager_name": ""
     },
     {
        "id": 4,
        "resource_type": "user",
        "ext_uid": "9083042864",
        "email": "irene@lessonly.com",
        "name": "Sandra Irene",
        "role": "manager",
        "archived_at": null,
        "archived_by_user_id": null,
        "job_title": "",
        "business_unit": "",
        "department": "Product",
        "location": "",
        "locale": "en",
        "hire_date": null,
        "manager_name": ""
     }
   ]
}
```

This endpoint allows you to create a group, its members and managers.

### HTTP Request

`POST https://api.lessonly.com/api/v1/groups/ -d params`

### Query Parameters

Parameter | Required | Type |  Description
--- | --- | --- | ---
name | yes | String | The name of the group
members | no | Array |  The members of a group.
managers | no | Array | The managers of a group.


## Update Group

```shell
<%= put_request("/groups/:group_id", params: true) %>
-d '{
  "name": "New Name",
  "members": [
    {
      "id": 1
    },
    {
      "id": 2,
      "remove": "true"
    }
  ],
  "managers": [
    {
      "id": 3,
      "remove": "true"
    },
    {
      "id": 4
    }
  ]
}'
```

> A successful update will return JSON consisting of the group details response:

```json
{
  "type": "update_group",
  "resource_type": "group",
  "id": 12345,
  "name": "New Name",
  "archived_at": null,
  "archived_by_user_id": null,
  "members": [
    {
      "id": 1,
      "resource_type": "user",
      "ext_uid": null,
      "email": "me@lessonly.com",
      "name": "Henry Alec",
      "role": "learner",
      "archived_at": null,
      "archived_by_user_id": null,
      "job_title": "",
      "business_unit": "Andela",
      "department": "Product",
      "location": "",
      "locale": "en",
      "hire_date": null,
      "manager_name": "Joe Metil"
    }
  ],
  "managers":  [
     {
        "id": 4,
        "resource_type": "user",
        "ext_uid": "9083042864",
        "email": "irene@lessonly.com",
        "name": "Sandra Irene",
        "role": "manager",
        "archived_at": null,
        "archived_by_user_id": null,
        "job_title": "",
        "business_unit": "",
        "department": "Product",
        "location": "",
        "locale": "en",
        "hire_date": null,
        "manager_name": ""
     }
   ]
}
```

This endpoint allows you to update a group, its members and managers.

### HTTP Request

`PUT https://api.lessonly.com/api/v1/groups/:group_id/ -d params`

### Query Parameters

Parameter | Required | Type |  Description
--- | --- | --- | ---
group_id | yes | Positive Integer | The group to access.  The company must have access to the group.
name | no | String | The name of the group.
members | no | Array |  The members of a group.  Passing "remove": "true" will remove this association.
managers | no | Array | The managers of a group.  Passing "remove": "true" will remove this association.

## Archive Group

```shell
<%= put_request("/groups/:group_id/archive").chomp(' \\') %>
```

> The above command returns JSON structured like this:

```json
{
    "id": 12631,
    "name": "Developer",
    "resource_type": "group",
    "type": "group",
    "archived_at": "2016-09-26T13:05:01.174-04:00",
    "archived_by_user_id": null,
    "members": [
      {
        "id": 1,
        "resource_type": "user",
        "ext_uid": null,
        "email": "me@lessonly.com",
        "name": "Henry Alec",
        "role": "learner",
        "archived_at": null,
        "archived_by_user_id": null,
        "job_title": "",
        "business_unit": "Andela",
        "department": "Product",
        "location": "",
        "locale": "en",
        "hire_date": null,
        "manager_name": "Joe Metil"
      }
    ],
    "managers": [
       {
          "id": 4,
          "resource_type": "user",
          "ext_uid": "9083042864",
          "email": "irene@lessonly.com",
          "name": "Sandra Irene",
          "role": "manager",
          "archived_at": null,
          "archived_by_user_id": null,
          "job_title": "",
          "business_unit": "",
          "department": "Product",
          "location": "",
          "locale": "en",
          "hire_date": null,
          "manager_name": ""
       }
    ]
}
```

This endpoint allows the archiving of a single group.

### HTTP Request

`PUT https://api.lessonly.com/api/v1/groups/:group_id/archive`

### Query Parameters

Parameter | Required | Type |  Description
--- | --- | --- | ---
group_id | yes | Positive Integer | The group to archive.  The company must have access to the group.

## Restore Group

```shell
<%= put_request("/groups/:group_id/restore").chomp(' \\') %>
```

> The above command returns JSON structured like this:

```json
{
    "id": 12631,
    "name": "Developer",
    "resource_type": "group",
    "type": "group",
    "archived_at": null,
    "archived_by_user_id": null,
    "members": [
      {
        "id": 1,
        "resource_type": "user",
        "ext_uid": null,
        "email": "me@lessonly.com",
        "name": "Henry Alec",
        "role": "learner",
        "archived_at": null,
        "archived_by_user_id": null,
        "job_title": "",
        "business_unit": "Andela",
        "department": "Product",
        "location": "",
        "locale": "en",
        "hire_date": null,
        "manager_name": "Joe Metil"
      }
    ],
    "managers": [
       {
          "id": 4,
          "resource_type": "user",
          "ext_uid": "9083042864",
          "email": "irene@lessonly.com",
          "name": "Sandra Irene",
          "role": "manager",
          "archived_at": null,
          "archived_by_user_id": null,
          "job_title": "",
          "business_unit": "",
          "department": "Product",
          "location": "",
          "locale": "en",
          "hire_date": null,
          "manager_name": ""
       }
    ]
}
```

This endpoint allows the restoring of a single archived group.

### HTTP Request

`PUT https://api.lessonly.com/api/v1/groups/:group_id/restore`

### Query Parameters

Parameter | Required | Type |  Description
--- | --- | --- | ---
group_id | yes | Positive Integer | The group to restore.  The company must have access to the group.

## Delete Group

```shell
<%= delete_request('/groups/:group_id') %>
```

> A successful delete returns JSON consisting of the id of the deleted group

```json
{
  "type": "delete_group",
  "id": "3",
  "name": "Group 3",
  "archived_at": null,
  "archived_by_user_id": null
}
```

This endpoint allows you to delete a group in the API.

### HTTP Request

`DELETE https://api.lessonly.com/api/v1/groups/:group_id`

### Query Parameters

Parameter | Required | Type |  Description
--- | --- | --- | ---
group_id | yes | Positive Integer | The group to delete.  The company must have access to the group.

## Group Assignments

```shell
<%= api_get_request("/groups/:group_id/assignments") %>
```

> The above command returns JSON structured like this:

```json
[
  {
    "id": 1,
    "assignable_id": 10,
    "assignable_type": "Lesson",
    "group_id": 5
  },
  {
    "id": 2,
    "assignable_id": 15,
    "assignable_type": "LearningPaths::Path",
    "group_id": 5
  }
]
```

This endpoint returns a list of all lessons and paths that have been assigned to the given group, in no particular order. Results include both archived and unarchived learning content.

### HTTP Request

`GET https://api.lessonly.com/api/v1/groups/:group_id/assignments`

### Query Parameters

Parameter | Required | Type             |  Description
----------|----------|------------------|-------------
group_id  | yes      | Positive Integer | The group whose assignments to access
